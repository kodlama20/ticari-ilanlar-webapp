<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Helpbot Search</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%230b0c10'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='28' fill='%23e5e7eb'%3EHB%3C/text%3E%3C/svg%3E">
</head>
<body>
  <header>
    <div class="container">
      <div class="row">
        <h1>Helpbot Search</h1>
        <div class="spacer"></div>
        <div class="muted" id="user-info">—</div>
        <button id="sign-in-btn"  class="btn">Giriş</button>
        <button id="sign-out-btn" class="btn" style="display:none">Çıkış</button>
      </div>
    </div>
  </header>

  <main class="container stack">
    <!-- Connection & Auth -->
    <section class="card">
      <h2>Bağlantı</h2>
      <div class="controls">
        <label>
          API Base
          <input id="api-base" type="text" placeholder="http://127.0.0.1:8000" />
        </label>
        <button id="api-save" class="btn">Kaydet</button>
        <button id="api-ping" class="btn">Ping</button>
      </div>
      <p class="muted">Sunucu sağlığı: <span id="status">—</span></p>
    </section>

    <!-- Natural Language Query -->
    <section class="card">
      <h2>Doğal Dil Sorgu</h2>
      <form id="ask-form" class="stack">
        <input id="q" type="text" placeholder="Örnek: 2024 Ocak İzmir kuruluş ilanları" />
        <div class="row">
          <button id="ask-btn" class="btn" type="submit">Ara</button>
        </div>
      </form>
      <div id="error" class="muted" style="display:none"></div>
    </section>

    <!-- Filters & Sort (added to match main.js) -->
    <section class="card">
      <h2>Filtreler &amp; Sıralama</h2>
      <div class="controls">
        <label>
          Metin
          <input id="flt-text" type="text" placeholder="Metinde ara (opsiyonel)" />
        </label>
        <label>
          Şirket
          <input id="flt-company" type="text" placeholder="Şirket adı (opsiyonel)" />
        </label>
        <label>
          Şehir
          <input id="flt-city" type="text" placeholder="Şehir (opsiyonel)" />
        </label>
        <label>
          Tür
          <input id="flt-type" type="text" placeholder="İlan türü (opsiyonel)" />
        </label>
      </div>

      <div class="controls">
        <label>
          Tarih (Başlangıç)
          <input id="flt-date-from" type="date" />
        </label>
        <label>
          Tarih (Bitiş)
          <input id="flt-date-to" type="date" />
        </label>
        <label>
          Sırala
          <select id="sort-by">
            <option value="date_int">Tarih</option>
            <option value="company">Şirket</option>
            <option value="city">Şehir</option>
            <option value="type">Tür</option>
          </select>
        </label>
        <label>
          Yön
          <select id="sort-dir">
            <option value="desc">Azalan</option>
            <option value="asc">Artan</option>
          </select>
        </label>
      </div>
      <p class="muted">Not: Bu filtreler ve sıralama, mevcut sonuç kümesi üzerinde istemci tarafında uygulanır.</p>
    </section>

    <!-- Results -->
    <section class="card">
      <h2>Sonuçlar</h2>
      <div id="result" class="table"></div>
      <div class="muted">Durum: <span id="status">—</span></div>
    </section>
  </main>

  <!-- App script (keep your pathing) -->
  <script type="module" src="./app/main.js"></script>
</body>
</html>